# 卒業研究論文

# 一章
## 研究の目的
<!-- todo: -->

### 識別子とは
「識別子」とは、「プログラム言語における変数名や関数名を表す名前[^1]」である。
識別子は識別子が指す対象によって分類をすることが可能である。
例えばJava言語では以下のように識別子を分類することが可能である。<!--FIXME: この分類ちょいとあやしい。根拠を示す-->

- クラス名
- メソッド名
- インターフェース名
- 変数名
- パッケージ名
- ジェネリクスにおける仮型パラメータ名
- 列挙子名

識別子は任意の文字列によって表現される。
一般に、識別子の表現にはいくつかの制限が存在する。
この制限はプログラミング言語によって異なる。
以下はJavaにおける識別子の表現に関する制限である。

Java SE 8[^2]
- 識別子の長さは無制限
- 識別子の命名にはunicodeの「a-z, a-z, 0-9, \_, $」が使用可能
- 識別子の大文字小文字は区別される
- 識別子の最初の文字は```character.isjavaidentifier(int)```が```true```を返す文字で始まる
- 識別子は予約後と重複してはいけない

このような識別子の表現に関する制限はJava以外のプログラミング言語にも存在する。
そして、識別子の表現に関する制限の内容はプログラミング言語ごとに異なる。
識別子の表現に関する制限が異なれば、識別子の表現に使用できる文字も異なる。
以下は、主要なプログラミング言語[主要なプログラミング言語](#主要なプログラミング言語)において使用可能な文字である。

| language   | characters                                                   |
| ---------- | ------------------------------------------------------------ |
| c          | a\-z, A\-Z, 0\-9, \_, escaped unicode characters since "C99" |
| java       | a\-z, A\-Z, 0\-9, $, \_                                      |
| python3.X  | a\-z, A\-Z, 0\-9, \_, some unicode characters                |
| javascript | $, \_, some unicode characters include [a\-z, A\-Z, 0\-9]    |
| php        | a\-z, A\-Z, 0\-9, \_, \\x80\-\\xff                           |
| ruby       | a-z, A-Z, 0-9, \_                                            |
| swift      | a-z, A-Z, 0-9, \_, \`, some unicode characters               |
| go         | one or more letters and digits                               |
| C#         | Unicode Standard Annex #31                                   |
| C++        | a\-z, A\-Z, 0\-9, \_, some unicode characters                |
| Kotlin     |                                                              |
| TypeScript | unicode characters                                           |

このように、主要なプログラミング言語では、大文字／小文字のアルファベットを識別子の表現に用いることができる。
つまり、識別子の表現には英語に由来する単語を用いることができる。
識別子の表現にいくつかの制限が存在することと、主要なプログラミング言語では識別子の表現にアルファベットを用いることができることから、
プログラムの書き手は一定の制限下において、自由な表現を識別子につけることが可能だと考えられる。
本論文ではプログラムの書き手のことを「プログラマ」、プログラマが識別子に任意の名前をつけることを「命名」と定義する。

### 主要なプログラミング言語
JetBrains社が2019年にソフトウェア開発者7000人を対象として行った調査によると、過去12ヶ月に使用したプログラミング言語の割合は以下の通りである。

| プログラミング言語             | 過去12ヶ月間に使用(%) | 採用/移行を計画(%) |
| --------------------- | ------------- | ----------- |
| javascript            | 69            | 5           |
| HTML/CSS              | 61            | 2           |
| SQL                   | 56            | 2           |
| java                  | 50            | 4           |
| Python                | 49            | 9           |
| shell                 | 40            | 2           |
| php                   | 29            | 2           |
| typescript            | 25            | 7           |
| C#                    | 24            | 4           |
| C++                   | 20            | 4           |
| GO                    | 18            | 13          |
| C                     | 17            | 2           |
| Kotlin                | 16            | 10          |
| Swift                 | 11            | 5           |
| Ruby                  | 11            | 3           |
| Objective-C           | 6             | 1           |
| Scala                 | 6             | 5           |
| Dart                  | 6             | 4           |
| Groovy                | 6             | 1           |
| R                     | 6             | 3           |
| Visual Basic          | 5             | 0           |
| Rust                  | 5             | 7           |
| Lua                   | 4             | 1           |
| Perl                  | 3             | 1           |
| Matlab                | 3             | 1           |
| Assembly              | 3             | 1           |
| Elixir                | 3             | 2           |
| Haskell               | 3             | 2           |
| CoffeeScript          | 2             | 1           |
| Clojure/ClojureScript | 2             | 1           |
| Julia                 | 1             | 1           |
| F#                    | 1             | 1           |
| Delphi                | 1             | 0           |
| Crystal               | 1             | 0           |
| other                 | 4             | 3           |

このうち使用率が10％を超える汎用プログラミング言語は以下の通りである。

- javascript
- java
- python
- php
- TypeScript
- C#
- C++
- GO
- C
- Kotlin
- Swift
- Ruby

本論文では、JetBrains社が行った調査結果で、過去12ヶ月間に使用した割合が10％を超えた汎用プログラミング言語を「主要なプログラミング言語」と定義する。


## 識別子の命名に関する暗黙知の存在
一般に命名の重要性は広く認識されている。
プログラミング言語や、フレームワーク、企業、プロジェクトによっては、プログラムのフォーマットや構造などを定めた「コーディング規約」が存在する。
このコーディング規約にはしばしば識別子の命名に関する規約が定められていることがある。
また、プログラミングに関する書籍において識別子の命名方法について言及されることがある。
それゆえ、識別子の命名の重要性は広く認識されていると考えられる。

以下はコーデイング規約の抜粋である。
<!-- todo: javaのコーディング規約から一部を抜粋してくる -->

命名に関するコーディング規約には様々なアプローチが存在する。

- 識別子の情報を含む命名
  - ハンガリアン気泡
  - dartのprivateな識別子を表す"_"

- 識別子のフォーマットによる命名
  - アッパースネークケースによる定数の記述
  - cssのbem記法
  - pythonの定数

- 特定の接頭子、接尾子によるもの
  - vue.jsのディレクティブの"v-"接頭子

- 特定の単語を使用するようにする方法
  - インターフェースの実装クラスには"impl"をつける等

- 特定の品詞を使用するようにする
  - 関数、メソッドは動詞、動詞句を用いる

- 引数と合わせて、動詞／目的後の組み合わせになるようにするもの
  - jestの"it"

このように命名に関するコーディング規約にはさまざまなアプローチが存在する
しかし、どのコーディング規約も表面上の命名手法に言及しており、命名の本質にかんするぶぶんには言及していない。
にも関わらず開発者はいい命名と悪い命名の判断をすることができる。
これより、命名に関する暗黙知の存在が考えられる。

## 仮説
# 二章
## 研究・調査の手法

1. javaのossをjavaparserを使ってast解析し、識別子を抽出する
2. 1で抽出した識別子を単語ごとに分解する
3. 2で分解した単語がどの品詞になるのかを判定する
4. 3で得られた結果をもとに統計的手法を用いて相関を求める
5. 4の分析結果から命名の手法を提案する

### javaについて
- オブジェクト指向言語、静的型付け言語
- 1995年にsun microsystemsにより初めてリリースされたプログラミング言語
- 歴史が長い<!-- tood: evidence -->
- エコシステムが充実している
  - 複数のideの存在
  (eclipse, intellij, netbeans)
  - ossリポジトリの数
  (2020-10月時点で1,622,484のリポジトリが存在[^5])

### ossについて
oss: オープンソースソフトウェア(open source software)

- 無償で公開されているソフトウェア
- 利用、改変、再配布が自由
- 様々な人がメンテナンスをしている
  (facebook/reactでは1500人を超える[^6])
  - 可読性の高さが期待される

oss=暗黙知の集積場

### astによるソースコード解析
ast: (abstract syntax tree)抽象構文木
- 中間表現のひとつ<!-- todo: evidence -->
  (プログラミング言語 → 中間言語 →アセンブリ言語)
- プログラムをツリー構造で保持<!-- todo: evidence -->
- ソースコードの情報を得るために有効<!-- todo: evidence -->

### javaparserの採用について
ast解析ツールの選択肢は主に以下二つ

- jdt
- javaparser

javaparserは

- ドキュメントが充実している[^7]
- eclipseに依存していない

# 三章
## 分析・考察
# 四章
## 命名手法の提案

# 参考
- [C言語の識別子に使用できる文字](https://devdocs.io/c/language/identifier) 2020/12/19 2:26閲覧
- [javaの識別子に使用できる文字](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html) 2020/12/19 2:18閲覧
- [pythonの識別子に使用できる文字](https://docs.python.org/ja/3/reference/lexical_analysis.html#line-structure) 2020/12/19 2:35閲覧
- [javascriptの識別子に使用できる文字](https://www.ecma-international.org/ecma-262/#sec-identifier-names) 2020/12/19 2:48閲覧
- [phpの識別子に利用できる文字](https://www.php.net/manual/en/language.variables.basics.php) 2020/12/19 2:53閲覧
- [phpの識別子に利用できる文字:class](https://www.php.net/manual/en/language.oop5.basic.php) 2020/12/19 2:54閲覧
- [phpの識別子に利用できる文字:function](https://www.php.net/manual/en/functions.user-defined.php) 2020/12/19 2:57閲覧
- [rubyの識別子に利用できる文字](https://ruby-doc.org/docs/ruby-doc-bundle/Manual/man-1.4/syntax.html#ident) 2020/12/19 3:01閲覧
- [swiftの識別子に利用できる文字](https://docs.swift.org/swift-book/ReferenceManual/LexicalStructure.html) 2020/12/19 3:03閲覧
- [goの識別子に利用できる文字](https://golang.org/ref/spec#Identifiers) 2020/12/19 3:08閲覧
- [TSの識別子に利用できる文字](https://www.typescriptlang.org/docs/handbook/release-notes/overview.html) 2020/12/19 6:33閲覧
- [C#の識別子に利用できる文字](https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/language-specification/lexical-structure) 2020/12/19 6:40閲覧
- [C++の識別子に利用できる文字](https://docs.microsoft.com/ja-jp/cpp/cpp/identifiers-cpp?view=msvc-160) 2020/12/19 6:59閲覧
- [Unicode Standard Annex #31](https://unicode.org/reports/tr31/) 2020/12/19 6:41閲覧

- [Githubプログラミング言語ランキング](https://octoverse.github.com/) 2020/12/19 5:24閲覧
- [JetBrains統計データ](https://www.jetbrains.com/ja-jp/lp/devecosystem-2019/) 2020/12/19 5:30閲覧
- [TypeScriptはJSの拡張である](https://www.typescriptlang.org/) 2020/12/19 6:17閲覧